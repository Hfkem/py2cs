## 3.1 貝葉斯定理

貝葉斯定理是機率論中一個重要的定理，它利用條件機率的概念來計算事件的概率。通常在一個依賴於一些參數的模型中，貝葉斯定理可用於計算給定參數的值後，相應的未知參數的後驗分佈。

貝葉斯定理的公式為：

$$P(A|B) = \frac{P(B|A)P(A)}{P(B)}$$

其中 $P(A|B)$ 表示在 B 發生的情況下 A 發生的概率， $P(B|A)$ 表示在 A 發生的情況下 B 發生的概率， $P(A)$ 和 $P(B)$ 分別表示 A 和 B 發生的概率。

在實際應用中，根據貝葉斯定理，我們可以用先驗概率和樣本資料計算出後驗概率，進而判斷不同條件下的機率大小。

Python 有許多套件可以計算機率，其中一個比較常用的是 `scipy` 套件中的 `stats` 子套件。以下是使用 `stats` 子套件計算貝葉斯定理的一個小例子。

```Python
from scipy.stats import beta

# 假設有 10 個球，其中紅色球 5 個，綠色球 3 個，藍色球 2 個
# 我們從裡頭抽出一個球，得到了一個紅色球
# 計算在此情況下，下一個球是紅色的概率

# 先建立一個 beta 分佈來當作紅色球的先驗分佈
alpha, beta = 2, 2
prior = beta(alpha, beta)

# 用得到的紅色球更新分佈
posterior = beta(alpha + 1, beta + 5 - 1)

# 計算下一個球是紅色的概率
posterior.mean()
```

這裡使用 beta 分佈，將紅色球的先驗分佈設為 $\beta(2, 2)$，再將得到的紅色球的資訊用來更新分佈，得到後驗分佈 $\beta(3, 2)$。最後計算得到下一個球是紅色的概率約為 $0.6$。